<app-sidenav></app-sidenav>

<div class="mainContent">
    <h1 style="padding: 15px 32px; height: 8vh;"> Curriculum Feedback </h1>

    <div class="lowerMainContent">
        <div class="mx-5 py-3">

            <div class="d-flex justify-content-start" style="margin: 10px 0;">
                <button (click)="goBack()" type="button" class="btn p-0">
                    <img class="logoImg " src="./assets/images/icon_back_btn.png" alt="BACK BUTTON">
                    <strong class="go_back"> GO BACK </strong>
                </button>
            </div>

            <div class="addForm p-5">

                <div class="row mb-2">
                    <div class="col-md-6 d-flex justify-content-start">
                        <h2>Feedback Form</h2>
                    </div>

                    <div class="col-md-6 d-flex justify-content-end">
                        <button (click)="viewCurriculum()" type="button" class="btn btn-primary btn-sm">
                            <strong> View Curriculum </strong>
                        </button>
                    </div>

                </div>



                <form [formGroup]="feedbackForm" (ngSubmit)="addFeedback(feedbackForm)">

                    <div class="form-group pb-3">
                        <label for="comment">Comment:</label>
                        <textarea formControlName="comment" class="form-control" id="" cols="70" rows="3"
                            [class.invalid]="(feedbackForm.get('comment')?.touched || isFormSubmitted) && feedbackForm.get('isApproved')?.getRawValue() === '0' && feedbackForm.get('comment')?.getRawValue() === ''"></textarea>
                        <div class="error"
                            *ngIf="(feedbackForm.get('comment')?.touched || isFormSubmitted) && feedbackForm.get('isApproved')?.getRawValue() === '0' && feedbackForm.get('comment')?.getRawValue() === ''">
                            This field is required if you selected return.
                        </div>
                    </div>


                    <div class="form-group pb-3">
                        <input type="radio" id="approve" formControlName="isApproved" value="1">
                        <label for="approve" class="h4 px-2 radioLbl">Approve</label><br>

                        <input type="radio" id="returned" formControlName="isApproved" value="0">
                        <label for="return" class="h4 px-2 radioLbl">Return</label>

                        <div class="error"
                            *ngIf="feedbackForm.get('isApproved')?.hasError('required') && (feedbackForm.get('isApproved')?.dirty || feedbackForm.get('isApproved')?.touched || isFormSubmitted)">
                            This field is required.
                        </div>
                    </div>

                    <div class="d-flex justify-content-end" style="margin: 5px 0;">
                        <button class="btn btn-primary">Submit</button>
                    </div>

                </form>

            </div>
            <!-- FOR DEBUGGING ONLY -->
            <!-- <b>Form's Value:</b>
            {{ feedbackForm.value | json }}
            <br />
            <b>Form is Valid ? :</b>
            {{ feedbackForm.valid }} -->
        </div>

    </div>
</div>